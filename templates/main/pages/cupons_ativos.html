{% extends "shared/pages/base.html" %}
{% block subtitulo %}Cupons{% endblock %}
{% block conteudo %}
<link rel="stylesheet" href="/static/css/estilo_cupons.css">

<div class="titulo">
    <h2>Cupons de desconto</h2>
    <nav class="nav nav-underline nav-fill">
        <a href="#link1" class="nav-link active link-ativos">Ativos</a>
        <a href="#link2" class="nav-link active link-indisponiveis">Indisponíveis</a>
    </nav>
</div>

<!-- Container para os cards -->
<div class="row mt-4 justify-content-center">
    <div class="col-3">
        <div class="p-4 rounded-4 position-relative" style="background-color: #57DED2;">
            <div class="rounded-4 p-4" style="background-color: #157B72;">
                <img src="/static/img/Vitalette_cupons.png" alt="Mascote Vitalis" class="img-fluid">
            </div>
            <div class="position-relative mb-5">
                <div class="position-absolute top-0 start-50 translate-middle w-50 text-center">
                    <div class="fs-2 lead fw-bold text-center rounded-pill border border-3 border-white w-100" style="background-color: #BEE4DF;">5%</div>
                </div>
            </div>
            <span class="position-absolute start-0 bg-white p-3 rounded-circle translate-middle" style="top: 88%"></span>
            <span class="position-absolute start-100 bg-white p-3 rounded-circle translate-middle" style="top: 88%"></span>
        </div>
    </div>
    
    <div class="col-3">
        <div class="p-4 rounded-4 position-relative" style="background-color: #57DED2;">
            <div class="rounded-4 p-4" style="background-color: #157B72;">
                <img src="/static/img/Vitalette_cupons.png" alt="Mascote Vitalis" class="img-fluid">
            </div>
            <div class="position-relative mb-5">
                <div class="position-absolute top-0 start-50 translate-middle w-50 text-center">
                    <div class="fs-2 lead fw-bold text-center rounded-pill border border-3 border-white w-100" style="background-color: #BEE4DF;">10%</div>
                </div>
            </div>
            <span class="position-absolute start-0 bg-white p-3 rounded-circle translate-middle" style="top: 88%"></span>
            <span class="position-absolute start-100 bg-white p-3 rounded-circle translate-middle" style="top: 88%"></span>
        </div>
    </div>
    
    <div class="col-3">
        <div class="p-4 rounded-4 position-relative" style="background-color: #57DED2;">
            <div class="rounded-4 p-4" style="background-color: #157B72;">
                <img src="/static/img/Vitalette_cupons.png" alt="Mascote Vitalis" class="img-fluid">
            </div>
            <div class="position-relative mb-5">
                <div class="position-absolute top-0 start-50 translate-middle w-50 text-center">
                    <div class="fs-2 lead fw-bold text-center rounded-pill border border-3 border-white w-100" style="background-color: #BEE4DF;">25%</div>
                </div>
            </div>
            <span class="position-absolute start-0 bg-white p-3 rounded-circle translate-middle" style="top: 88%"></span>
            <span class="position-absolute start-100 bg-white p-3 rounded-circle translate-middle" style="top: 88%"></span>
        </div>
    </div>
</div>

<div class="adicionar-cupom mt-4">
    <i class="bi bi-clipboard-plus-fill"></i>
    <p>Adicionar cupom de desconto</p>
</div>

<div>
    <div class="p-4 rounded-4 mt-2 mb-4" style="background-color: #BEE4DF;">
        <div class="row">
            <div class="col-2">
                <div class="rounded-circle overflow-hidden" style="width: 100px; height: 100px;">
                    <img src="/static/img/dra.nathalia.jpg" alt="foto perfil" class="img-fluid w-100 h-100" style="object-fit: cover;">
                </div>
            </div>
            <div class="col-6">
                <div class="d-flex flex-column justify-content-center h-100">
                    <p class="lead m-0">dranathaliacastellani</p>
                    <h1 class="lead fw-bold m-0">ADERIU AO CUPOM DE 5%</h1>
                    <p class="small fw-bold text-secondary m-0">Expira em 6h e 43min</p>
                </div>
            </div>
            <div class="col-4">
                <div class="d-flex flex-column justify-content-center h-100 me-4">
                    <button class="btn btn-lg fs-1 px-5 position-relative" style="background-color: #157B72; color: white; border-radius: 17px; font-weight: bold;">
                        <span class="position-absolute start-0 top-50 p-3 rounded-circle translate-middle" style="background-color: #BEE4DF;"></span>
                        Resgatar
                        <span class="position-absolute start-100 top-50 p-3 rounded-circle translate-middle" style="background-color: #BEE4DF;"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="p-4 rounded-4 mb-4" style="background-color: #BEE4DF;">
        <div class="row">
            <div class="col-2">
                <div class="rounded-circle overflow-hidden" style="width: 100px; height: 100px;">
                    <img src="/static/img/dr.gabrielbelmonte.jpg" alt="foto perfil" class="img-fluid w-100 h-100" style="object-fit: cover;">
                </div>
            </div>
            <div class="col-6">
                <div class="d-flex flex-column justify-content-center h-100">
                    <p class="lead m-0">dr.gabrielbelmonte</p>
                    <h1 class="lead fw-bold m-0">ADERIU AO CUPOM DE 25%</h1>
                    <p class="small fw-bold text-secondary m-0">Expira em 9h e 21min</p>
                </div>
            </div>
            <div class="col-4">
                <div class="d-flex flex-column justify-content-center h-100 me-4">
                    <button class="btn btn-lg fs-1 px-5 position-relative" style="background-color: #157B72; color: white; border-radius: 17px; font-weight: bold;">
                        <span class="position-absolute start-0 top-50 p-3 rounded-circle translate-middle" style="background-color: #BEE4DF;"></span>
                        Resgatar
                        <span class="position-absolute start-100 top-50 p-3 rounded-circle translate-middle" style="background-color: #BEE4DF;"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="p-4 rounded-4 mb-4" style="background-color: #BEE4DF;">
        <div class="row">
            <div class="col-2">
                <div class="rounded-circle overflow-hidden" style="width: 100px; height: 100px;">
                    <img src="/static/img/dr.gabrielbelmonte.jpg" alt="foto perfil" class="img-fluid w-100 h-100" style="object-fit: cover;">
                </div>
            </div>
            <div class="col-6">
                <div class="d-flex flex-column justify-content-center h-100">
                    <p class="lead m-0">dr.gabrielbelmonte</p>
                    <h1 class="lead fw-bold m-0">ADERIU AO CUPOM DE 5%</h1>
                    <p class="small fw-bold text-secondary m-0">Expira em 71h 50min</p>
                </div>
            </div>
            <div class="col-4">
                <div class="d-flex flex-column justify-content-center h-100 me-4">
                    <button class="btn btn-lg fs-1 px-5 position-relative" style="background-color: #157B72; color: white; border-radius: 17px; font-weight: bold;">
                        <span class="position-absolute start-0 top-50 p-3 rounded-circle translate-middle" style="background-color: #BEE4DF;"></span>
                        Resgatar
                        <span class="position-absolute start-100 top-50 p-3 rounded-circle translate-middle" style="background-color: #BEE4DF;"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const buttons = document.querySelectorAll('button');

            buttons.forEach(button => {
                button.addEventListener('click', function () {
                    if (this.innerText.trim() === "Resgatado") return;

                    // Trocar texto e cores
                    this.innerText = "Resgatado";
                    this.style.backgroundColor = "white";
                    this.style.color = "#157B72";
                    this.style.fontWeight = "bold";  // Garante o texto grosso

                    // Selecionar bolinhas
                    const leftCircle = this.querySelector('span:first-child');
                    const rightCircle = this.querySelector('span:last-child');

                    // Manter as bolinhas visíveis e trocar as cores
                    if (leftCircle) {
                        leftCircle.style.backgroundColor = "#BEE4DF";  // Cor das bolinhas após resgatar
                    }
                    if (rightCircle) {
                        rightCircle.style.backgroundColor = "#BEE4DF";  // Cor das bolinhas após resgatar
                    }
                });
            });
        });
    </script>
{% endblock %}
